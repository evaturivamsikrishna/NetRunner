<!-- data/dashboard/index.html -->
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>NetRunner — Website Monitor</title>
    <link rel="stylesheet" href="/data/dashboard/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0" defer></script>
    <script src="/data/dashboard/assets/locale_render.js" defer></script>
    <script src="/data/dashboard/assets/chart.js" defer></script>
</head>

<body>
    <header class="site-header" role="banner">
        <div class="wrap">
            <h1>NetRunner — Website Monitor</h1>
            <p class="lede">Automated link & health monitoring • <span id="locales-verified">0</span> locales verified
            </p>
        </div>
    </header>

    <main class="wrap" role="main">
        <section class="health-row" aria-labelledby="latest-heading">
            <h2 id="latest-heading">Latest Summary</h2>
            <div class="kpi-grid" role="list">
                <div class="kpi" role="listitem">
                    <h3>Success Rate</h3>
                    <div id="latest-success" class="kpi-val">--%</div>
                </div>
                <div class="kpi" role="listitem">
                    <h3>Duration (mins)</h3>
                    <div id="latest-duration" class="kpi-val">--</div>
                </div>
                <div class="kpi" role="listitem">
                    <h3>Total Links</h3>
                    <div id="latest-total" class="kpi-val">--</div>
                </div>
                <div class="kpi" role="listitem">
                    <h3>Broken Links</h3>
                    <div id="latest-broken" class="kpi-val">--</div>
                </div>
            </div>
        </section>

        <section aria-labelledby="global-heading">
            <h2 id="global-heading">Global & Trends</h2>
            <div class="grid-2">
                <div class="card">
                    <h3>Success Rate by Locale</h3><canvas id="chartSuccess"
                        aria-label="Success rate by locale"></canvas>
                </div>
                <div class="card">
                    <h3>Broken Links by Locale</h3><canvas id="chartBroken"
                        aria-label="Broken links by locale"></canvas>
                </div>
            </div>

            <div class="grid-2">
                <div class="card">
                    <h3>Efficiency</h3><canvas id="chartEff" aria-label="Crawler efficiency by locale"></canvas>
                </div>
                <div class="card">
                    <h3>Duration</h3><canvas id="chartDuration" aria-label="Duration per locale"></canvas>
                </div>
            </div>
        </section>

        <section aria-labelledby="locales-heading">
            <h2 id="locales-heading">Locales</h2>
            <div id="locales-container" class="locales-grid" role="region" aria-live="polite"></div>
        </section>

        <section aria-labelledby="broken-heading">
            <h2 id="broken-heading">Broken Links</h2>
            <div id="broken-placeholder">
                <p>Broken links (latest) are available in metrics.json under latest_broken_links. Use CSV/Export if
                    needed.</p>
            </div>
        </section>
    </main>

    <footer class="site-footer" role="contentinfo">
        <div class="wrap">NetRunner • Auto-generated dashboard</div>
    </footer>
</body>

</html>